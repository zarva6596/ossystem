{"version":3,"sources":["components/NewProduct/NewProduct.jsx","components/Header/Header.jsx","components/ProductCard/ProductCard.jsx","components/Catalog/Catalog.jsx","components/Sitebar/Sitebar.jsx","App.js","index.js"],"names":["NewProduct","addProduct","products","user","useState","id","title","description","imgUrl","price","photo","product","createProduct","length","hendleChange","event","target","name","value","className","onSubmit","preventDefault","newProduct","placeholder","type","onChange","required","reader","FileReader","file","files","onloadend","result","readAsDataURL","handlePhoto","Header","setUser","to","src","alt","exact","ProductCard","deleteProduct","onClick","Catalog","removeProducts","map","key","Sitebar","right","setRight","useEffect","goods","total","reduce","acc","average","toFixed","style","onMouseEnter","onMouseLeave","App","productsFromServer","handleProducts","filter","path","render","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.d73abf62.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './NewProduct.scss';\n\nexport const NewProduct = ({ addProduct, products, user }) => {\n  const [product, createProduct] = useState({\n    id: '',\n    title: '',\n    description: '',\n    imgUrl: '',\n    price: '',\n    photo: '',\n  });\n\n  const { title, description, imgUrl, price } = product;\n\n  const id = products.length;\n\n  const hendleChange = (event) => {\n    const { name, value } = event.target;\n\n    createProduct({\n      ...product,\n      [name]: value,\n      id,\n    });\n  };\n\n  const handlePhoto = (event) => {\n    const reader = new FileReader();\n    const file = event.target.files[0];\n\n    reader.onloadend = () => {\n      createProduct({\n        ...product,\n        photo: file,\n        imgUrl: reader.result,\n        id,\n      });\n    };\n\n    reader.readAsDataURL(file);\n  };\n\n  const newProduct = (event) => {\n    event.preventDefault();\n\n    addProduct(product);\n\n    createProduct({\n      id: '',\n      title: '',\n      description: '',\n      imgUrl: '',\n      price: '',\n    });\n  };\n\n  return (\n    <div\n      className=\"newProduct\"\n    >\n      {user !== 'admin'\n        ? (\n          <>\n            <h2\n              className=\"newProduct__heading--error\"\n            >\n              Sory but You can`t add products !!!\n            </h2>\n          </>\n        )\n        : (\n          <div>\n            <h2 className=\"newProduct__heading\">Add new Product</h2>\n\n            <div\n              className=\"newProduct__formBlock\"\n            >\n              <form\n                className=\"newProduct__form form\"\n                onSubmit={event => newProduct(event)}\n              >\n                <label className=\"form__lable\">\n                  Title:\n                  <input\n                    name=\"title\"\n                    className=\"form__input\"\n                    placeholder=\"Title\"\n                    type=\"text\"\n                    value={title}\n                    onChange={event => hendleChange(event)}\n                    required\n                  />\n                </label>\n\n                <label className=\"form__lable\">\n                  Description:\n                  <input\n                    name=\"description\"\n                    className=\"form__input\"\n                    placeholder=\"Description\"\n                    type=\"text\"\n                    value={description}\n                    onChange={event => hendleChange(event)}\n                    required\n                  />\n                </label>\n\n                <label className=\"form__lable\">\n                  Price:\n                  <input\n                    name=\"price\"\n                    className=\"form__input\"\n                    placeholder=\"Product price\"\n                    type=\"number\"\n                    value={price}\n                    onChange={event => hendleChange(event)}\n                    required\n                  />\n                </label>\n\n                <label className=\"form__lable\">\n                  Upload photo:\n                  <input\n                    name=\"photo\"\n                    className=\"form__input\"\n                    type=\"file\"\n                    onChange={event => handlePhoto(event)}\n                  />\n                </label>\n\n                <p className=\"form__or\">\n                  or write Image adress here\n                </p>\n\n                <label className=\"form__lable\">\n                  Image adress:\n                  <input\n                    name=\"imgUrl\"\n                    className=\"form__input\"\n                    placeholder=\"image URL\"\n                    type=\"url\"\n                    value={imgUrl}\n                    onChange={event => hendleChange(event)}\n                  />\n                </label>\n\n                <button\n                  className=\"form__button\"\n                  type=\"submit\"\n                >\n                  Send\n                </button>\n              </form>\n            </div>\n          </div>\n        )\n      }\n    </div>\n  );\n};\n\nNewProduct.propTypes = {\n  addProduct: PropTypes.func.isRequired,\n  products: PropTypes.arrayOf(\n    PropTypes.object.isRequired,\n  ).isRequired,\n  user: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { NavLink, Link } from 'react-router-dom';\n\nimport './Header.scss';\n\nexport const Header = ({ user, setUser }) => (\n  <div\n    className=\"header\"\n  >\n    <Link\n      to=\"/\"\n      className=\"header__logo-link\"\n    >\n      <img\n        src=\"/images/logo.png\"\n        className=\"header__logo\"\n        alt=\"Logo\"\n      />\n    </Link>\n    <nav\n      className=\"header__nav nav\"\n    >\n      <ul\n        className=\"nav__list nav__list--none\"\n      >\n        <li\n          className=\"nav__item\"\n        >\n          <NavLink\n            to=\"/\"\n            exact\n            className=\"nav__link nav__link--active\"\n          >\n            Home\n          </NavLink>\n        </li>\n\n        <li\n          className=\"nav__item\"\n        >\n          <NavLink\n            to=\"/catalog\"\n            className=\"nav__link nav__link--active\"\n          >\n            Catalog\n          </NavLink>\n        </li>\n\n        <li\n          className=\"nav__item\"\n        >\n          <NavLink\n            to=\"/addProduct\"\n            className=\"nav__link\"\n          >\n            Add new product\n          </NavLink>\n        </li>\n      </ul>\n\n      <button\n        type=\"button\"\n        className=\"nav__button nav__button--active\"\n      >\n        Menu\n      </button>\n\n      <select\n        value={user}\n        onChange={event => setUser(event.target.value)}\n      >\n        <option\n          value=\"admin\"\n        >\n          Admin\n        </option>\n\n        <option\n          value=\"user\"\n        >\n          user\n        </option>\n      </select>\n    </nav>\n  </div>\n);\n\nHeader.propTypes = {\n  user: PropTypes.string.isRequired,\n  setUser: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './ProductCard.scss';\n\nexport const ProductCard = ({\n  id,\n  title,\n  description,\n  imgUrl,\n  price,\n  user,\n  deleteProduct,\n}) => (\n  <div\n    className=\"card\"\n  >\n    <button\n      type=\"button\"\n      className={user === 'admin'\n        ? 'card__removeProduct'\n        : 'card__removeProduct--none'}\n      onClick={() => deleteProduct(id)}\n    >\n      <img src=\"../images/x.png\" alt=\"remove button\" />\n    </button>\n    <div\n      className=\"card__imgBlock\"\n    >\n      <img\n        className=\"card__image\"\n        src={imgUrl}\n        alt={title}\n      />\n    </div>\n\n    <div\n      className=\"card__infoBlock\"\n    >\n      <div className=\"card__heading\">\n        <h2\n          className=\"card__header\"\n        >\n          {title}\n        </h2>\n      </div>\n\n      <div className=\"card__info\">\n        <p\n          className=\"card__description\"\n        >\n          {description}\n        </p>\n        <p\n          className=\"card__id\"\n        >\n          {id}\n        </p>\n      </div>\n\n      <div className=\"card__priceBlock\">\n        <p\n          className=\"card__price\"\n        >\n          {`$${price}`}\n        </p>\n      </div>\n    </div>\n  </div>\n);\n\nProductCard.propTypes = {\n  id: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  description: PropTypes.string.isRequired,\n  imgUrl: PropTypes.string.isRequired,\n  price: PropTypes.string.isRequired,\n  user: PropTypes.string.isRequired,\n  deleteProduct: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './Catalog.scss';\nimport { ProductCard } from '../ProductCard';\n\nexport const Catalog = ({\n  products,\n  user,\n  removeProducts,\n  deleteProduct,\n}) => (\n  <div\n    className=\"catalog\"\n  >\n    <div\n      className=\"catalog__products\"\n    >\n      {products.map(product => (\n        <ProductCard\n          key={product.id}\n          {...product}\n          user={user}\n          deleteProduct={deleteProduct}\n        />\n      ))}\n    </div>\n  </div>\n);\n\nCatalog.propTypes = {\n  products: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.string.isRequired,\n      description: PropTypes.string,\n      imgUrl: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n  user: PropTypes.string.isRequired,\n  removeProducts: PropTypes.func.isRequired,\n  deleteProduct: PropTypes.func.isRequired,\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './Sitebar.scss';\n\nexport const Sitebar = ({ products, user, removeProducts }) => {\n  const [right, setRight] = useState(user === 'admin' ? '-720px' : '-520px');\n\n  useEffect(() => (\n    setRight(user === 'admin' ? '-720px' : '-520px')\n  ), [user]);\n\n  const goods = products.length;\n  const total = products.reduce((acc, product) => acc + +product.price, 0);\n  const average = goods > 0 ? (total / goods).toFixed(2) : 0;\n\n  return (\n    <div\n      style={{\n        right,\n      }}\n      className=\"sitebar\"\n      onMouseEnter={() => setRight(null)}\n      onMouseLeave={() => setRight(user === 'admin' ? '-720px' : '-520px')}\n    >\n      <div className=\"sitebar__heading\">\n        <h1>Info</h1>\n      </div>\n\n      <div\n        className=\"sitebar__info\"\n      >\n        <div\n          className=\"sitebar__item\"\n        >\n          <h3 className=\"sitebar__itemHeading\">Quantity of goods:</h3>\n          <p className=\"sitebar__itemText\">{goods}</p>\n        </div>\n\n        <div\n          className=\"sitebar__item\"\n        >\n          <h3 className=\"sitebar__itemHeading\">Total price:</h3>\n          <p className=\"sitebar__itemText\">{`$${total}`}</p>\n        </div>\n\n        <div\n          className=\"sitebar__item\"\n        >\n          <h3 className=\"sitebar__itemHeading\">Average price:</h3>\n          <p className=\"sitebar__itemText\">{`$${average}`}</p>\n        </div>\n\n        <button\n          type=\"button\"\n          className={user === 'admin'\n            ? 'sitebar__button'\n            : 'sitebar__button--none'}\n          onClick={() => removeProducts()}\n        >\n          Delete all products\n        </button>\n      </div>\n    </div>\n  );\n};\n\nSitebar.propTypes = {\n  products: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.string.isRequired,\n      description: PropTypes.string,\n      imgUrl: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n  user: PropTypes.string.isRequired,\n  removeProducts: PropTypes.func.isRequired,\n};\n","import React, { useState } from 'react';\nimport { Route } from 'react-router-dom';\nimport './App.scss';\n\nimport { NewProduct } from './components/NewProduct';\nimport { Header } from './components/Header';\nimport { Catalog } from './components/Catalog';\nimport { Sitebar } from './components/Sitebar';\n\nimport productsFromServer from './api/products.json';\n\nexport const App = () => {\n  const [products, handleProducts] = useState(productsFromServer);\n  const [user, setUser] = useState('user');\n\n  const addProduct = (product) => {\n    handleProducts([...products, product]);\n  };\n\n  const removeProducts = () => handleProducts([]);\n\n  const deleteProduct = id => handleProducts([...products]\n    .filter(product => product.id !== id));\n\n  return (\n    <>\n      <div\n        className=\"newPage\"\n      >\n        <Header\n          user={user}\n          setUser={setUser}\n        />\n        <Sitebar\n          products={products}\n          user={user}\n          removeProducts={removeProducts}\n        />\n\n        <Route\n          path=\"/catalog\"\n          render={() => (\n            <Catalog\n              products={products}\n              user={user}\n              removeProducts={removeProducts}\n              deleteProduct={deleteProduct}\n            />\n          )}\n        />\n\n        <Route\n          path=\"/addProduct\"\n          render={() => (\n            <NewProduct\n              addProduct={addProduct}\n              products={products}\n              user={user}\n            />\n          )}\n        />\n      </div>\n    </>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport 'bulma/css/bulma.css';\nimport { App } from './App';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}